"use strict";(self.webpackChunkmm_notes=self.webpackChunkmm_notes||[]).push([[970],{756:(s,l,n)=>{n.r(l),n.d(l,{data:()=>a});const a={key:"v-495eb4c4",path:"/interview/coding/",title:"编程题",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"模拟实现系列",slug:"模拟实现系列",children:[{level:3,title:"new 运算符",slug:"new-运算符",children:[]},{level:3,title:"instanceof 运算符",slug:"instanceof-运算符",children:[]},{level:3,title:"Function.prototype.call()",slug:"function-prototype-call",children:[]},{level:3,title:"Function.prototype.apply()",slug:"function-prototype-apply",children:[]},{level:3,title:"Function.prototype.bind()",slug:"function-prototype-bind",children:[]}]}],filePathRelative:"interview/coding/README.md",git:{updatedTime:1650801682e3}}},9114:(s,l,n)=>{n.r(l),n.d(l,{default:()=>Z});var a=n(6252);const o=(0,a.uE)('<h1 id="编程题" tabindex="-1"><a class="header-anchor" href="#编程题" aria-hidden="true">#</a> 编程题</h1><h2 id="模拟实现系列" tabindex="-1"><a class="header-anchor" href="#模拟实现系列" aria-hidden="true">#</a> 模拟实现系列</h2><h3 id="new-运算符" tabindex="-1"><a class="header-anchor" href="#new-运算符" aria-hidden="true">#</a> new 运算符</h3><div class="custom-container tip"><p class="custom-container-title">new 运算符原理</p><ol><li>创建一个全新的对象</li><li>为新创建的对象添加 <strong><code>__proto__</code></strong> 属性并指向构造函数的原型对象</li><li>将新创建的对象作为函数调用的 this</li><li>如果构造函数没有返回对象类型，则新创建的对象</li></ol></div><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">function</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">myNew</span><span style="color:#D4D4D4;">() {</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;">// 获取构造函数</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">Constructor</span><span style="color:#D4D4D4;"> = [].</span><span style="color:#9CDCFE;">shift</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">call</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">arguments</span><span style="color:#D4D4D4;">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;">// 创建空对象并设置原型</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">obj</span><span style="color:#D4D4D4;"> = </span><span style="color:#4EC9B0;">Object</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">create</span><span style="color:#D4D4D4;">(</span><span style="color:#4EC9B0;">Constructor</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">prototype</span><span style="color:#D4D4D4;">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;">// 绑定 this 并执行构造函数</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">result</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">Constructor</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">apply</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">obj</span><span style="color:#D4D4D4;">, </span><span style="color:#569CD6;">arguments</span><span style="color:#D4D4D4;">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;">// 返回构造函数显示返回的值或新对象</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">type</span><span style="color:#D4D4D4;"> = </span><span style="color:#569CD6;">typeof</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">result</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">result</span><span style="color:#D4D4D4;"> &amp;&amp; (</span><span style="color:#9CDCFE;">type</span><span style="color:#D4D4D4;"> === </span><span style="color:#CE9178;">&#39;object&#39;</span><span style="color:#D4D4D4;"> || </span><span style="color:#9CDCFE;">type</span><span style="color:#D4D4D4;"> === </span><span style="color:#CE9178;">&#39;function&#39;</span><span style="color:#D4D4D4;">) ? </span><span style="color:#9CDCFE;">result</span><span style="color:#D4D4D4;"> : </span><span style="color:#9CDCFE;">obj</span></span>\n<span class="line"><span style="color:#D4D4D4;">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div>',5),e={href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new",target:"_blank",rel:"noopener noreferrer"},p=(0,a.Uk)("new 运算符 —— MDN"),D={href:"https://github.com/mqyqingfeng/Blog/issues/13",target:"_blank",rel:"noopener noreferrer"},r=(0,a.Uk)("JavaScript 深入之 new 的模拟实现"),c=(0,a.uE)('<h3 id="instanceof-运算符" tabindex="-1"><a class="header-anchor" href="#instanceof-运算符" aria-hidden="true">#</a> instanceof 运算符</h3><div class="custom-container tip"><p class="custom-container-title">instanceof 运算符原理</p><p><code>instanceof</code> 运算符用于检测构造函数的 <code>prototype</code> 属性是否出现在某个实例对象的原型链上</p></div><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">function</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">myInstanceof</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">left</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">right</span><span style="color:#D4D4D4;">) {</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;">// 取右边构造函数的 prototype 值</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">prototype</span><span style="color:#D4D4D4;"> = </span><span style="color:#4EC9B0;">right</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">prototype</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;">// 取左边实例的 __proto__ 值</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">left</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">left</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">__proto__</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#C586C0;">while</span><span style="color:#D4D4D4;"> (</span><span style="color:#569CD6;">true</span><span style="color:#D4D4D4;">) {</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#6A9955;">// 当左边实例的 __proto__ 为 null 时返回 false</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">if</span><span style="color:#D4D4D4;"> (</span><span style="color:#9CDCFE;">left</span><span style="color:#D4D4D4;"> === </span><span style="color:#569CD6;">null</span><span style="color:#D4D4D4;">) {</span></span>\n<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">false</span></span>\n<span class="line"><span style="color:#D4D4D4;">    }</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#6A9955;">// 判断左右两边的原型是否一致</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">if</span><span style="color:#D4D4D4;"> (</span><span style="color:#9CDCFE;">left</span><span style="color:#D4D4D4;"> === </span><span style="color:#9CDCFE;">prototype</span><span style="color:#D4D4D4;">) {</span></span>\n<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">true</span></span>\n<span class="line"><span style="color:#D4D4D4;">    }</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#6A9955;">// 修改 __proto__</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">left</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">left</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">__proto__</span></span>\n<span class="line"><span style="color:#D4D4D4;">  }</span></span>\n<span class="line"><span style="color:#D4D4D4;">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div>',3),_={href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof",target:"_blank",rel:"noopener noreferrer"},t=(0,a.Uk)("instanceof 运算符 —— MDN"),y=(0,a._)("br",null,null,-1),i={href:"https://juejin.cn/post/6844903613584654344#heading-1",target:"_blank",rel:"noopener noreferrer"},C=(0,a.Uk)("instanceof 操作符的实现原理"),b=(0,a._)("h3",{id:"function-prototype-call",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#function-prototype-call","aria-hidden":"true"},"#"),(0,a.Uk)(" Function.prototype.call()")],-1),u=(0,a._)("p",null,[(0,a._)("code",null,"call()"),(0,a.Uk)(" 方法使用一个指定的 "),(0,a._)("code",null,"this"),(0,a.Uk)(" 值和单独给出的一个或多个参数来调用一个函数")],-1),m=(0,a._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,a._)("pre",{class:"shiki",style:{"background-color":"#1E1E1E"}},[(0,a._)("code",null,[(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#6A9955"}},"/** ES6 实现 **/")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#4EC9B0"}},"Function"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"prototype"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"myCall"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#569CD6"}},"function"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ("),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},", ..."),(0,a._)("span",{style:{color:"#9CDCFE"}},"args"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 在非严格模式下，传入的 context 为 null 或 undefined 时会自动替换为全局对象")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 因此在判断时不能使用 context = context || window")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"if"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ("),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}}," == "),(0,a._)("span",{style:{color:"#569CD6"}},"null"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#9CDCFE"}},"window")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 原始值需要被 Object 包装成对象")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"else"),(0,a._)("span",{style:{color:"#D4D4D4"}}," {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#4EC9B0"}},"Object"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"fn"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#569CD6"}},"this")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 获取 fn 函数调用的返回值")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#569CD6"}},"const"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#4FC1FF"}},"result"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"fn"),(0,a._)("span",{style:{color:"#D4D4D4"}},"(..."),(0,a._)("span",{style:{color:"#9CDCFE"}},"args"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#569CD6"}},"delete"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"fn")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"return"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"result")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"}")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#569CD6"}},"function"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#DCDCAA"}},"get"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#9CDCFE"}},"params"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#9CDCFE"}},"console"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"log"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#569CD6"}},"this"),(0,a._)("span",{style:{color:"#D4D4D4"}},", "),(0,a._)("span",{style:{color:"#9CDCFE"}},"params"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"return"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#CE9178"}},"'这是返回值'")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"}")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#569CD6"}},"const"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#4FC1FF"}},"obj"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#9CDCFE"}},"name:"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#CE9178"}},"'maomao'"),(0,a._)("span",{style:{color:"#D4D4D4"}},",")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#9CDCFE"}},"age:"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#B5CEA8"}},"18")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"}")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#9CDCFE"}},"console"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"log"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#CE9178"}},"`call :>> `"),(0,a._)("span",{style:{color:"#D4D4D4"}},", "),(0,a._)("span",{style:{color:"#9CDCFE"}},"get"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"call"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#9CDCFE"}},"obj"),(0,a._)("span",{style:{color:"#D4D4D4"}},", "),(0,a._)("span",{style:{color:"#CE9178"}},"'call'"),(0,a._)("span",{style:{color:"#D4D4D4"}},"))")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#9CDCFE"}},"console"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"log"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#CE9178"}},"`myCall :>> `"),(0,a._)("span",{style:{color:"#D4D4D4"}},", "),(0,a._)("span",{style:{color:"#9CDCFE"}},"get"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"myCall"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#9CDCFE"}},"obj"),(0,a._)("span",{style:{color:"#D4D4D4"}},", "),(0,a._)("span",{style:{color:"#CE9178"}},"'myCall'"),(0,a._)("span",{style:{color:"#D4D4D4"}},"))")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"})])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"2"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"3"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"4"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"5"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"6"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"7"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"8"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"9"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"10"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"11"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"12"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"13"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"14"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"15"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"16"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"17"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"18"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"19"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"20"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"21"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"22"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"23"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"24"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"25"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"26"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"27"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"28"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"29"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"30"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"31"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"32"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"33"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"34"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"35"),(0,a._)("br")])],-1),E=(0,a._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,a._)("pre",{class:"shiki",style:{"background-color":"#1E1E1E"}},[(0,a._)("code",null,[(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#6A9955"}},"/** ES5 实现 **/")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#4EC9B0"}},"Function"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"prototype"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"myCall"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#569CD6"}},"function"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ("),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 在非严格模式下，传入的 context 为 null 或 undefined 时会自动替换为全局对象")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 因此在判断时不能使用 context = context || window")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"if"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ("),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}}," == "),(0,a._)("span",{style:{color:"#569CD6"}},"null"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#9CDCFE"}},"window")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 原始值需要被 Object 包装成对象")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"else"),(0,a._)("span",{style:{color:"#D4D4D4"}}," {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#4EC9B0"}},"Object"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 获取调用 call 的函数")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"fn"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#569CD6"}},"this")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 获取传入的参数")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#569CD6"}},"var"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"args"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = []")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// arguments 是类数组对象，可以使用 for 循环")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"for"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ("),(0,a._)("span",{style:{color:"#569CD6"}},"var"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"i"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#B5CEA8"}},"1"),(0,a._)("span",{style:{color:"#D4D4D4"}},", "),(0,a._)("span",{style:{color:"#9CDCFE"}},"len"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#569CD6"}},"arguments"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"length"),(0,a._)("span",{style:{color:"#D4D4D4"}},"; "),(0,a._)("span",{style:{color:"#9CDCFE"}},"i"),(0,a._)("span",{style:{color:"#D4D4D4"}}," < "),(0,a._)("span",{style:{color:"#9CDCFE"}},"len"),(0,a._)("span",{style:{color:"#D4D4D4"}},"; "),(0,a._)("span",{style:{color:"#9CDCFE"}},"i"),(0,a._)("span",{style:{color:"#D4D4D4"}},"++) {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#9CDCFE"}},"args"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"push"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#CE9178"}},"'arguments['"),(0,a._)("span",{style:{color:"#D4D4D4"}}," + "),(0,a._)("span",{style:{color:"#9CDCFE"}},"i"),(0,a._)("span",{style:{color:"#D4D4D4"}}," + "),(0,a._)("span",{style:{color:"#CE9178"}},"']'"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"/**")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#6A9955"}},"   * 获取 fn 函数调用的返回值")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#6A9955"}},"   * 此时 args 为 ['arguments[1]', 'arguments[2]', 'arguments[3]']")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#6A9955"}},"   * 但在执行时 args 会自动调用 Array.toString() 转化为 context.fn(arguments[1], arguments[2], arguments[3])")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#6A9955"}},"   **/")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#569CD6"}},"var"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"result"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#DCDCAA"}},"eval"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#CE9178"}},"'context.fn('"),(0,a._)("span",{style:{color:"#D4D4D4"}}," + "),(0,a._)("span",{style:{color:"#9CDCFE"}},"args"),(0,a._)("span",{style:{color:"#D4D4D4"}}," + "),(0,a._)("span",{style:{color:"#CE9178"}},"')'"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 删除 fn 函数")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#569CD6"}},"delete"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"fn")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 将 fn 函数的返回值返回")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"return"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"result")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"}")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"})])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"2"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"3"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"4"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"5"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"6"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"7"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"8"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"9"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"10"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"11"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"12"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"13"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"14"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"15"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"16"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"17"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"18"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"19"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"20"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"21"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"22"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"23"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"24"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"25"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"26"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"27"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"28"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"29"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"30"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"31"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"32"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"33"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"34"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"35"),(0,a._)("br")])],-1),k={href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/call",target:"_blank",rel:"noopener noreferrer"},U=(0,a.Uk)("Function.prototype.call() —— MDN"),F={href:"https://github.com/mqyqingfeng/Blog/issues/11",target:"_blank",rel:"noopener noreferrer"},d=(0,a.Uk)("JavaScript 深入之 call 和 apply 的模拟实现"),f=(0,a._)("h3",{id:"function-prototype-apply",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#function-prototype-apply","aria-hidden":"true"},"#"),(0,a.Uk)(" Function.prototype.apply()")],-1),A=(0,a._)("p",null,[(0,a._)("code",null,"apply()"),(0,a.Uk)(" 方法调用一个具有给定 "),(0,a._)("code",null,"this"),(0,a.Uk)(" 值的函数，以及以一个数组（或类数组对象）的形式提供的参数")],-1),h=(0,a._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,a._)("pre",{class:"shiki",style:{"background-color":"#1E1E1E"}},[(0,a._)("code",null,[(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#6A9955"}},"/** ES6 实现 **/")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#4EC9B0"}},"Function"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"prototype"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"myApply"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#569CD6"}},"function"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ("),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},", "),(0,a._)("span",{style:{color:"#9CDCFE"}},"arr"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 在非严格模式下，传入的 context 为 null 或 undefined 时会自动替换为全局对象")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 因此在判断时不能使用 context = context || window")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"if"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ("),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}}," == "),(0,a._)("span",{style:{color:"#569CD6"}},"null"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#9CDCFE"}},"window")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 原始值需要被 Object 包装成对象")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"else"),(0,a._)("span",{style:{color:"#D4D4D4"}}," {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#4EC9B0"}},"Object"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"fn"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#569CD6"}},"this")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 获取函数调用的返回值")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#569CD6"}},"const"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#4FC1FF"}},"result"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#9CDCFE"}},"arr"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ? "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"fn"),(0,a._)("span",{style:{color:"#D4D4D4"}},"(..."),(0,a._)("span",{style:{color:"#9CDCFE"}},"arr"),(0,a._)("span",{style:{color:"#D4D4D4"}},") : "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"fn"),(0,a._)("span",{style:{color:"#D4D4D4"}},"()")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#569CD6"}},"delete"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"fn")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"return"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"result")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"}")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#569CD6"}},"function"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#DCDCAA"}},"get"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#9CDCFE"}},"params"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#9CDCFE"}},"console"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"log"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#569CD6"}},"this"),(0,a._)("span",{style:{color:"#D4D4D4"}},", "),(0,a._)("span",{style:{color:"#9CDCFE"}},"params"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"return"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#CE9178"}},"'这是返回值'")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"}")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#569CD6"}},"const"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#4FC1FF"}},"obj"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#9CDCFE"}},"name:"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#CE9178"}},"'maomao'"),(0,a._)("span",{style:{color:"#D4D4D4"}},",")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#9CDCFE"}},"age:"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#B5CEA8"}},"18")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"}")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#9CDCFE"}},"console"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"log"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#CE9178"}},"`apply :>> `"),(0,a._)("span",{style:{color:"#D4D4D4"}},", "),(0,a._)("span",{style:{color:"#9CDCFE"}},"get"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"apply"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#9CDCFE"}},"obj"),(0,a._)("span",{style:{color:"#D4D4D4"}},", ["),(0,a._)("span",{style:{color:"#CE9178"}},"'apply'"),(0,a._)("span",{style:{color:"#D4D4D4"}},"]))")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#9CDCFE"}},"console"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"log"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#CE9178"}},"`myApply :>> `"),(0,a._)("span",{style:{color:"#D4D4D4"}},", "),(0,a._)("span",{style:{color:"#9CDCFE"}},"get"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"myApply"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#9CDCFE"}},"obj"),(0,a._)("span",{style:{color:"#D4D4D4"}},", ["),(0,a._)("span",{style:{color:"#CE9178"}},"'myApply'"),(0,a._)("span",{style:{color:"#D4D4D4"}},"]))")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"})])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"2"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"3"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"4"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"5"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"6"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"7"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"8"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"9"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"10"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"11"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"12"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"13"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"14"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"15"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"16"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"17"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"18"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"19"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"20"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"21"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"22"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"23"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"24"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"25"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"26"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"27"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"28"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"29"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"30"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"31"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"32"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"33"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"34"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"35"),(0,a._)("br")])],-1),g=(0,a._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,a._)("pre",{class:"shiki",style:{"background-color":"#1E1E1E"}},[(0,a._)("code",null,[(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#6A9955"}},"/** ES5 实现 **/")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#4EC9B0"}},"Function"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"prototype"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"myApply"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#569CD6"}},"function"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ("),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},", "),(0,a._)("span",{style:{color:"#9CDCFE"}},"arr"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 在非严格模式下，传入的 context 为 null 或 undefined 时会自动替换为全局对象")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 因此在判断时不能使用 context = context || window")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"if"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ("),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}}," == "),(0,a._)("span",{style:{color:"#569CD6"}},"null"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#9CDCFE"}},"window")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 原始值需要被 Object 包装成对象")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"else"),(0,a._)("span",{style:{color:"#D4D4D4"}}," {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#4EC9B0"}},"Object"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 获取调用 apply 的函数")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"fn"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#569CD6"}},"this")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 获取 fn 函数调用的返回值")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#569CD6"}},"var"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"result")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"if"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ("),(0,a._)("span",{style:{color:"#9CDCFE"}},"arr"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#6A9955"}},"// 获取传入的参数")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#569CD6"}},"var"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"args"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = []")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#C586C0"}},"for"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ("),(0,a._)("span",{style:{color:"#569CD6"}},"var"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"i"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#B5CEA8"}},"0"),(0,a._)("span",{style:{color:"#D4D4D4"}},", "),(0,a._)("span",{style:{color:"#9CDCFE"}},"len"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#9CDCFE"}},"arr"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"length"),(0,a._)("span",{style:{color:"#D4D4D4"}},"; "),(0,a._)("span",{style:{color:"#9CDCFE"}},"i"),(0,a._)("span",{style:{color:"#D4D4D4"}}," < "),(0,a._)("span",{style:{color:"#9CDCFE"}},"len"),(0,a._)("span",{style:{color:"#D4D4D4"}},"; "),(0,a._)("span",{style:{color:"#9CDCFE"}},"i"),(0,a._)("span",{style:{color:"#D4D4D4"}},"++) {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"      "),(0,a._)("span",{style:{color:"#9CDCFE"}},"args"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"push"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#CE9178"}},"'arr['"),(0,a._)("span",{style:{color:"#D4D4D4"}}," + "),(0,a._)("span",{style:{color:"#9CDCFE"}},"i"),(0,a._)("span",{style:{color:"#D4D4D4"}}," + "),(0,a._)("span",{style:{color:"#CE9178"}},"']'"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#9CDCFE"}},"result"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#DCDCAA"}},"eval"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#CE9178"}},"'context.fn('"),(0,a._)("span",{style:{color:"#D4D4D4"}}," + "),(0,a._)("span",{style:{color:"#9CDCFE"}},"args"),(0,a._)("span",{style:{color:"#D4D4D4"}}," + "),(0,a._)("span",{style:{color:"#CE9178"}},"')'"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 没有参数直接调用")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"else"),(0,a._)("span",{style:{color:"#D4D4D4"}}," {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#9CDCFE"}},"result"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"fn"),(0,a._)("span",{style:{color:"#D4D4D4"}},"()")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 删除 fn 函数")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#569CD6"}},"delete"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"fn")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 将 fn 的返回值返回")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"return"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"result")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"}")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"})])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"2"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"3"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"4"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"5"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"6"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"7"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"8"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"9"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"10"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"11"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"12"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"13"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"14"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"15"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"16"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"17"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"18"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"19"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"20"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"21"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"22"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"23"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"24"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"25"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"26"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"27"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"28"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"29"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"30"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"31"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"32"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"33"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"34"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"35"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"36"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"37"),(0,a._)("br")])],-1),v={href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply",target:"_blank",rel:"noopener noreferrer"},x=(0,a.Uk)("Function.prototype.apply() —— MDN"),w={href:"https://github.com/mqyqingfeng/Blog/issues/11",target:"_blank",rel:"noopener noreferrer"},j=(0,a.Uk)("JavaScript 深入之 call 和 apply 的模拟实现"),B=(0,a._)("h3",{id:"function-prototype-bind",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#function-prototype-bind","aria-hidden":"true"},"#"),(0,a.Uk)(" Function.prototype.bind()")],-1),W=(0,a._)("p",null,[(0,a._)("code",null,"bind()"),(0,a.Uk)(" 方法创建一个新的函数，在 "),(0,a._)("code",null,"bind()"),(0,a.Uk)(" 被调用时，这个新函数的 "),(0,a._)("code",null,"this"),(0,a.Uk)(" 被指定为 "),(0,a._)("code",null,"bind()"),(0,a.Uk)(" 的第一个参数，而其余参数将作为新函数的参数供调用时使用。")],-1),S=(0,a._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,a._)("pre",{class:"shiki",style:{"background-color":"#1E1E1E"}},[(0,a._)("code",null,[(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#6A9955"}},"/** ES6 实现 **/")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#4EC9B0"}},"Function"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"prototype"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"myBind"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#569CD6"}},"function"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ("),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},", ..."),(0,a._)("span",{style:{color:"#9CDCFE"}},"args"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"if"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ("),(0,a._)("span",{style:{color:"#569CD6"}},"typeof"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#569CD6"}},"this"),(0,a._)("span",{style:{color:"#D4D4D4"}}," !== "),(0,a._)("span",{style:{color:"#CE9178"}},"'function'"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#C586C0"}},"throw"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#569CD6"}},"new"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#4EC9B0"}},"TypeError"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#CE9178"}},"'not a function'"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#569CD6"}},"const"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#4FC1FF"}},"self"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#569CD6"}},"this")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"return"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#569CD6"}},"function"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#DCDCAA"}},"F"),(0,a._)("span",{style:{color:"#D4D4D4"}},"(..."),(0,a._)("span",{style:{color:"#9CDCFE"}},"fArgs"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#569CD6"}},"const"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#4FC1FF"}},"params"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = [..."),(0,a._)("span",{style:{color:"#9CDCFE"}},"args"),(0,a._)("span",{style:{color:"#D4D4D4"}},", ..."),(0,a._)("span",{style:{color:"#9CDCFE"}},"fArgs"),(0,a._)("span",{style:{color:"#D4D4D4"}},"]")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#6A9955"}},"// 当作为构造函数时")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#C586C0"}},"if"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ("),(0,a._)("span",{style:{color:"#569CD6"}},"this"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#569CD6"}},"instanceof"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#4EC9B0"}},"F"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"      "),(0,a._)("span",{style:{color:"#C586C0"}},"return"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#569CD6"}},"new"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#DCDCAA"}},"self"),(0,a._)("span",{style:{color:"#D4D4D4"}},"(..."),(0,a._)("span",{style:{color:"#9CDCFE"}},"params"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#6A9955"}},"// 当作为普通函数时，将函数的 this 指向 context")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#C586C0"}},"return"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"self"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"apply"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},", "),(0,a._)("span",{style:{color:"#9CDCFE"}},"params"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"}")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"})])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"2"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"3"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"4"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"5"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"6"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"7"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"8"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"9"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"10"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"11"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"12"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"13"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"14"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"15"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"16"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"17"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"18"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"19"),(0,a._)("br")])],-1),O=(0,a._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,a._)("pre",{class:"shiki",style:{"background-color":"#1E1E1E"}},[(0,a._)("code",null,[(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#6A9955"}},"/** ES5 实现 **/")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#4EC9B0"}},"Function"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"prototype"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"myBind"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#569CD6"}},"function"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ("),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"if"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ("),(0,a._)("span",{style:{color:"#569CD6"}},"typeof"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#569CD6"}},"this"),(0,a._)("span",{style:{color:"#D4D4D4"}}," !== "),(0,a._)("span",{style:{color:"#CE9178"}},"'function'"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#C586C0"}},"throw"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#569CD6"}},"new"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#4EC9B0"}},"Error"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#CE9178"}},"'not a function'"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 获取调用 bind 的函数")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#569CD6"}},"var"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"self"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#569CD6"}},"this")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 获取除了 thisArg 外的剩余参数（第二个到最后一个）")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#569CD6"}},"var"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"args"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#4EC9B0"}},"Array"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"prototype"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"slice"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"call"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#569CD6"}},"arguments"),(0,a._)("span",{style:{color:"#D4D4D4"}},", "),(0,a._)("span",{style:{color:"#B5CEA8"}},"1"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#569CD6"}},"var"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#DCDCAA"}},"fNOP"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#569CD6"}},"function"),(0,a._)("span",{style:{color:"#D4D4D4"}}," () {}")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#569CD6"}},"var"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#DCDCAA"}},"fBound"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#569CD6"}},"function"),(0,a._)("span",{style:{color:"#D4D4D4"}}," () {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#6A9955"}},"// 获取返回函数的参数")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#569CD6"}},"var"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"bindArgs"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#4EC9B0"}},"Array"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"prototype"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"slice"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"call"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#569CD6"}},"arguments"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#C586C0"}},"return"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"self"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"apply"),(0,a._)("span",{style:{color:"#D4D4D4"}},"(")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"      "),(0,a._)("span",{style:{color:"#6A9955"}},"// 当作为构造函数时，将绑定函数的 this 实例指向实例")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"      "),(0,a._)("span",{style:{color:"#6A9955"}},"// 当作为普通函数时，将绑定函数的 this 指向 context")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"      "),(0,a._)("span",{style:{color:"#569CD6"}},"this"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#569CD6"}},"instanceof"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#4EC9B0"}},"fNOP"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ? "),(0,a._)("span",{style:{color:"#569CD6"}},"this"),(0,a._)("span",{style:{color:"#D4D4D4"}}," : "),(0,a._)("span",{style:{color:"#9CDCFE"}},"context"),(0,a._)("span",{style:{color:"#D4D4D4"}},",")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"      "),(0,a._)("span",{style:{color:"#9CDCFE"}},"args"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#DCDCAA"}},"concat"),(0,a._)("span",{style:{color:"#D4D4D4"}},"("),(0,a._)("span",{style:{color:"#9CDCFE"}},"bindArgs"),(0,a._)("span",{style:{color:"#D4D4D4"}},")")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    )")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#6A9955"}},"// 存在原型时，修改返回函数的 prototype 为绑定函数的 prototype，使实例可以继承绑定函数原型中的值")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#569CD6"}},"var"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"prototype"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#4EC9B0"}},"self"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"prototype")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"if"),(0,a._)("span",{style:{color:"#D4D4D4"}}," ("),(0,a._)("span",{style:{color:"#9CDCFE"}},"prototype"),(0,a._)("span",{style:{color:"#D4D4D4"}},") {")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"    "),(0,a._)("span",{style:{color:"#4EC9B0"}},"fNOP"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"prototype"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#9CDCFE"}},"prototype")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  }")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"}),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#4EC9B0"}},"fBound"),(0,a._)("span",{style:{color:"#D4D4D4"}},"."),(0,a._)("span",{style:{color:"#9CDCFE"}},"prototype"),(0,a._)("span",{style:{color:"#D4D4D4"}}," = "),(0,a._)("span",{style:{color:"#569CD6"}},"new"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#DCDCAA"}},"fNOP"),(0,a._)("span",{style:{color:"#D4D4D4"}},"()")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"  "),(0,a._)("span",{style:{color:"#C586C0"}},"return"),(0,a._)("span",{style:{color:"#D4D4D4"}}," "),(0,a._)("span",{style:{color:"#9CDCFE"}},"fBound")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"},[(0,a._)("span",{style:{color:"#D4D4D4"}},"}")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"line"})])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"2"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"3"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"4"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"5"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"6"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"7"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"8"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"9"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"10"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"11"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"12"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"13"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"14"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"15"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"16"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"17"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"18"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"19"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"20"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"21"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"22"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"23"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"24"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"25"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"26"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"27"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"28"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"29"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"30"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"31"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"32"),(0,a._)("br"),(0,a._)("span",{class:"line-number"},"33"),(0,a._)("br")])],-1),N={href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/bind",target:"_blank",rel:"noopener noreferrer"},z=(0,a.Uk)("Function.prototype.bind() —— MDN"),J=(0,a.Uk)("相关学习文章 "),q={href:"https://github.com/mqyqingfeng/Blog/issues/12",target:"_blank",rel:"noopener noreferrer"},R=(0,a.Uk)("JavaScript 深入之 bind 的模拟实现"),M={href:"https://zhuanlan.zhihu.com/p/25379434",target:"_blank",rel:"noopener noreferrer"},G=(0,a.Uk)("从一道面试题的进阶，到“我可能看了假源码”"),P={href:"https://zhuanlan.zhihu.com/p/25483361",target:"_blank",rel:"noopener noreferrer"},I=(0,a.Uk)("从一道面试题的进阶，到“我可能看了假源码”（2）"),T={},Z=(0,n(3744).Z)(T,[["render",function(s,l){const n=(0,a.up)("OutboundLink"),T=(0,a.up)("CodeGroupItem"),Z=(0,a.up)("CodeGroup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[o,(0,a._)("ul",null,[(0,a._)("li",null,[(0,a._)("a",e,[p,(0,a.Wm)(n)])]),(0,a._)("li",null,[(0,a._)("a",D,[r,(0,a.Wm)(n)])])]),c,(0,a._)("ul",null,[(0,a._)("li",null,[(0,a._)("a",_,[t,(0,a.Wm)(n)]),y]),(0,a._)("li",null,[(0,a._)("a",i,[C,(0,a.Wm)(n)])])]),b,u,(0,a.Wm)(Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T,{title:"ES6 实现",active:""},{default:(0,a.w5)((()=>[m])),_:1}),(0,a.Wm)(T,{title:"ES5 实现"},{default:(0,a.w5)((()=>[E])),_:1})])),_:1}),(0,a._)("ul",null,[(0,a._)("li",null,[(0,a._)("a",k,[U,(0,a.Wm)(n)])]),(0,a._)("li",null,[(0,a._)("a",F,[d,(0,a.Wm)(n)])])]),f,A,(0,a.Wm)(Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T,{title:"ES6 实现",active:""},{default:(0,a.w5)((()=>[h])),_:1}),(0,a.Wm)(T,{title:"ES5 实现"},{default:(0,a.w5)((()=>[g])),_:1})])),_:1}),(0,a._)("ul",null,[(0,a._)("li",null,[(0,a._)("a",v,[x,(0,a.Wm)(n)])]),(0,a._)("li",null,[(0,a._)("a",w,[j,(0,a.Wm)(n)])])]),B,W,(0,a.Wm)(Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T,{title:"ES6 实现",active:""},{default:(0,a.w5)((()=>[S])),_:1}),(0,a.Wm)(T,{title:"ES5 实现"},{default:(0,a.w5)((()=>[O])),_:1})])),_:1}),(0,a._)("ul",null,[(0,a._)("li",null,[(0,a._)("a",N,[z,(0,a.Wm)(n)])]),(0,a._)("li",null,[J,(0,a._)("ul",null,[(0,a._)("li",null,[(0,a._)("a",q,[R,(0,a.Wm)(n)])]),(0,a._)("li",null,[(0,a._)("a",M,[G,(0,a.Wm)(n)])]),(0,a._)("li",null,[(0,a._)("a",P,[I,(0,a.Wm)(n)])])])])])],64)}]])},3744:(s,l)=>{l.Z=(s,l)=>{const n=s.__vccOpts||s;for(const[s,a]of l)n[s]=a;return n}}}]);