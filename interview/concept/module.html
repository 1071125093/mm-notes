<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="manifest" href="/manifest.webmanifest"><meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#3eaf7c"><meta name="msapplication-TileImage" content="/favicon.ico"><meta name="msapplication-TileColor" content="#000000"><script src="https://hm.baidu.com/hm.js?8092fab2f2adfc7938ba5b8885aef5b4"></script><title>模块化 | 茂茂物语</title><meta name="description" content="前端常用知识、踩坑记录、软件推荐等">
    <link rel="preload" href="/mm-notes/assets/js/runtime~app.f414a8bc.js" as="script"><link rel="preload" href="/mm-notes/assets/css/styles.9c95d454.css" as="style"><link rel="preload" href="/mm-notes/assets/js/277.9e06e526.js" as="script"><link rel="preload" href="/mm-notes/assets/js/app.358d118f.js" as="script"><link rel="prefetch" href="/mm-notes/assets/js/v-086a9a24.eda9f4bc.js"><link rel="prefetch" href="/mm-notes/assets/js/v-495eb4c4.9a4d91d6.js"><link rel="prefetch" href="/mm-notes/assets/js/v-eb8ea600.e9665d23.js"><link rel="prefetch" href="/mm-notes/assets/js/v-4dbb1ce4.499329cc.js"><link rel="prefetch" href="/mm-notes/assets/js/v-078cec97.67dc653b.js"><link rel="prefetch" href="/mm-notes/assets/js/v-74473916.4c8260b5.js"><link rel="prefetch" href="/mm-notes/assets/js/v-7ee8b8b0.2630d1f6.js"><link rel="prefetch" href="/mm-notes/assets/js/v-5f5e8084.65542a45.js"><link rel="prefetch" href="/mm-notes/assets/js/v-8e6560ec.80a9422f.js"><link rel="prefetch" href="/mm-notes/assets/js/v-46e6e855.007d874e.js"><link rel="prefetch" href="/mm-notes/assets/js/v-6c94be79.d0fe8c97.js"><link rel="prefetch" href="/mm-notes/assets/js/v-19aad6df.072c551b.js"><link rel="prefetch" href="/mm-notes/assets/js/v-7873c033.b9635912.js"><link rel="prefetch" href="/mm-notes/assets/js/v-40748f39.3a0ca9de.js"><link rel="prefetch" href="/mm-notes/assets/js/901.9eb86b3b.js"><link rel="prefetch" href="/mm-notes/assets/js/v-9588fb76.c83e0f36.js"><link rel="prefetch" href="/mm-notes/assets/js/v-9729b696.953b752d.js"><link rel="prefetch" href="/mm-notes/assets/js/v-21995a44.2d6e4e9a.js"><link rel="prefetch" href="/mm-notes/assets/js/v-fc48be40.c3283e53.js"><link rel="prefetch" href="/mm-notes/assets/js/v-2ab098c0.fc75a88b.js"><link rel="prefetch" href="/mm-notes/assets/js/v-4bbf47d6.96b90320.js"><link rel="prefetch" href="/mm-notes/assets/js/v-43ebe826.e0a7ee87.js"><link rel="prefetch" href="/mm-notes/assets/js/v-254d49ee.975633c3.js"><link rel="prefetch" href="/mm-notes/assets/js/v-134daec4.cd66417d.js"><link rel="prefetch" href="/mm-notes/assets/js/v-6dcf6fe2.7bb76224.js"><link rel="prefetch" href="/mm-notes/assets/js/v-075393bd.7e01cc1e.js"><link rel="prefetch" href="/mm-notes/assets/js/v-02b49bb5.4236181f.js"><link rel="prefetch" href="/mm-notes/assets/js/v-744e35e2.f4c4dbd7.js"><link rel="prefetch" href="/mm-notes/assets/js/v-74458d05.6cc11854.js"><link rel="prefetch" href="/mm-notes/assets/js/v-4c78588a.7b054ede.js"><link rel="prefetch" href="/mm-notes/assets/js/v-6657f713.9ad7476d.js"><link rel="prefetch" href="/mm-notes/assets/js/v-dd6edac6.fcf3a252.js"><link rel="prefetch" href="/mm-notes/assets/js/v-4a95d1b2.6c21b6fb.js"><link rel="prefetch" href="/mm-notes/assets/js/v-f20d4d92.30507c2d.js"><link rel="prefetch" href="/mm-notes/assets/js/205.1a98be41.js"><link rel="prefetch" href="/mm-notes/assets/js/v-8daa1a0e.1e24c0d6.js"><link rel="prefetch" href="/mm-notes/assets/js/491.91c3b88e.js"><link rel="prefetch" href="/mm-notes/assets/js/v-3706649a.46b94ff0.js"><link rel="prefetch" href="/mm-notes/assets/css/854.styles.cb3b0e67.css">
    <link rel="stylesheet" href="/mm-notes/assets/css/styles.9c95d454.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/mm-notes/" class=""><img class="logo" src="/mm-notes/logo.png" alt="茂茂物语"><span class="site-name can-hide">茂茂物语</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/mm-notes/interview/base/types.md" class="router-link-active" aria-label="前端内卷不归路"><!--[--><!--]--> 前端内卷不归路 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/mm-notes/source-code/only-allow.md" class="" aria-label="源码阅读笔记"><!--[--><!--]--> 源码阅读笔记 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="库 / 方法"><span class="title">库 / 方法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="库 / 方法"><span class="title">库 / 方法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/mm-notes/utils/regexp.html" class="" aria-label="常用正则"><!--[--><!--]--> 常用正则 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mm-notes/utils/function.html" class="" aria-label="常用方法"><!--[--><!--]--> 常用方法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mm-notes/utils/library.html" class="" aria-label="库收集"><!--[--><!--]--> 库收集 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Vue / CSS / Node"><span class="title">Vue / CSS / Node</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Vue / CSS / Node"><span class="title">Vue / CSS / Node</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Node 相关</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/mm-notes/node/npm.html" class="" aria-label="npm 相关"><!--[--><!--]--> npm 相关 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>CSS</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/mm-notes/css/" class="" aria-label="CSS 语法相关"><!--[--><!--]--> CSS 语法相关 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/css/skill.html" class="" aria-label="CSS 奇淫技巧"><!--[--><!--]--> CSS 奇淫技巧 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/css/scss.html" class="" aria-label="常用 SCSS 宏"><!--[--><!--]--> 常用 SCSS 宏 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Vue</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/mm-notes/vue/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>疑难杂症</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/mm-notes/issue/h5.html" class="" aria-label="H5 相关"><!--[--><!--]--> H5 相关 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/issue/pc.html" class="" aria-label="PC 相关"><!--[--><!--]--> PC 相关 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="终端"><span class="title">终端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="终端"><span class="title">终端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/mm-notes/terminal/zsh.html" class="" aria-label="Zsh"><!--[--><!--]--> Zsh <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mm-notes/terminal/toolkit.html" class="" aria-label="命令行工具"><!--[--><!--]--> 命令行工具 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mm-notes/git/README.md" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="软件 / 工具"><span class="title">软件 / 工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="软件 / 工具"><span class="title">软件 / 工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>软件推荐</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/mm-notes/software/cross-platform.html" class="" aria-label="多平台"><!--[--><!--]--> 多平台 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/software/mac.html" class="" aria-label="Mac 平台"><!--[--><!--]--> Mac 平台 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/software/windows.html" class="" aria-label="Windows 平台"><!--[--><!--]--> Windows 平台 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/software/browser.html" class="" aria-label="浏览器扩展"><!--[--><!--]--> 浏览器扩展 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/software/vscode.html" class="" aria-label="Visual Studio Code 配置"><!--[--><!--]--> Visual Studio Code 配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/software/webstorm.html" class="" aria-label="WebStorm 配置"><!--[--><!--]--> WebStorm 配置 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>在线工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/mm-notes/online-tools/" class="" aria-label="网页工具"><!--[--><!--]--> 网页工具 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/online-tools/bookmark-scripts.html" class="" aria-label="书签脚本"><!--[--><!--]--> 书签脚本 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="主页和作品"><span class="title">主页和作品</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="主页和作品"><span class="title">主页和作品</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://www.fe-mm.com" rel="noopener noreferrer" target="_blank" aria-label="Blog"><!--[--><!--]--> Blog <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/maomao1996" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://netease-music.fe-mm.com" rel="noopener noreferrer" target="_blank" aria-label="在线音乐"><!--[--><!--]--> 在线音乐 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/mm-notes/interview/base/types.md" class="router-link-active" aria-label="前端内卷不归路"><!--[--><!--]--> 前端内卷不归路 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/mm-notes/source-code/only-allow.md" class="" aria-label="源码阅读笔记"><!--[--><!--]--> 源码阅读笔记 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="库 / 方法"><span class="title">库 / 方法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="库 / 方法"><span class="title">库 / 方法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/mm-notes/utils/regexp.html" class="" aria-label="常用正则"><!--[--><!--]--> 常用正则 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mm-notes/utils/function.html" class="" aria-label="常用方法"><!--[--><!--]--> 常用方法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mm-notes/utils/library.html" class="" aria-label="库收集"><!--[--><!--]--> 库收集 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Vue / CSS / Node"><span class="title">Vue / CSS / Node</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Vue / CSS / Node"><span class="title">Vue / CSS / Node</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Node 相关</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/mm-notes/node/npm.html" class="" aria-label="npm 相关"><!--[--><!--]--> npm 相关 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>CSS</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/mm-notes/css/" class="" aria-label="CSS 语法相关"><!--[--><!--]--> CSS 语法相关 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/css/skill.html" class="" aria-label="CSS 奇淫技巧"><!--[--><!--]--> CSS 奇淫技巧 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/css/scss.html" class="" aria-label="常用 SCSS 宏"><!--[--><!--]--> 常用 SCSS 宏 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Vue</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/mm-notes/vue/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>疑难杂症</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/mm-notes/issue/h5.html" class="" aria-label="H5 相关"><!--[--><!--]--> H5 相关 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/issue/pc.html" class="" aria-label="PC 相关"><!--[--><!--]--> PC 相关 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="终端"><span class="title">终端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="终端"><span class="title">终端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/mm-notes/terminal/zsh.html" class="" aria-label="Zsh"><!--[--><!--]--> Zsh <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mm-notes/terminal/toolkit.html" class="" aria-label="命令行工具"><!--[--><!--]--> 命令行工具 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mm-notes/git/README.md" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="软件 / 工具"><span class="title">软件 / 工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="软件 / 工具"><span class="title">软件 / 工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>软件推荐</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/mm-notes/software/cross-platform.html" class="" aria-label="多平台"><!--[--><!--]--> 多平台 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/software/mac.html" class="" aria-label="Mac 平台"><!--[--><!--]--> Mac 平台 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/software/windows.html" class="" aria-label="Windows 平台"><!--[--><!--]--> Windows 平台 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/software/browser.html" class="" aria-label="浏览器扩展"><!--[--><!--]--> 浏览器扩展 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/software/vscode.html" class="" aria-label="Visual Studio Code 配置"><!--[--><!--]--> Visual Studio Code 配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/software/webstorm.html" class="" aria-label="WebStorm 配置"><!--[--><!--]--> WebStorm 配置 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>在线工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/mm-notes/online-tools/" class="" aria-label="网页工具"><!--[--><!--]--> 网页工具 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/mm-notes/online-tools/bookmark-scripts.html" class="" aria-label="书签脚本"><!--[--><!--]--> 书签脚本 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="主页和作品"><span class="title">主页和作品</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="主页和作品"><span class="title">主页和作品</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://www.fe-mm.com" rel="noopener noreferrer" target="_blank" aria-label="Blog"><!--[--><!--]--> Blog <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/maomao1996" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://netease-music.fe-mm.com" rel="noopener noreferrer" target="_blank" aria-label="在线音乐"><!--[--><!--]--> 在线音乐 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">JavaScript 基础知识 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/mm-notes/interview/base/types.html" class="sidebar-item" aria-label="数据类型"><!--[--><!--]--> 数据类型 <!--[--><!--]--></a><!----></li><li><a href="/mm-notes/interview/base/conversions.html" class="sidebar-item" aria-label="类型转换"><!--[--><!--]--> 类型转换 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">HTML 与 CSS <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/mm-notes/interview/html-css/html.html" class="sidebar-item" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/mm-notes/interview/es6/" class="sidebar-item sidebar-heading" aria-label="ES6 常用知识"><!--[--><!--]--> ES6 常用知识 <!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">概念知识 <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/mm-notes/interview/concept/module.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="模块化"><!--[--><!--]--> 模块化 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/mm-notes/interview/concept/module.html#commonjs" class="router-link-active router-link-exact-active sidebar-item" aria-label="CommonJS"><!--[--><!--]--> CommonJS <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/mm-notes/interview/concept/module.html#esmodule" class="router-link-active router-link-exact-active sidebar-item" aria-label="ESModule"><!--[--><!--]--> ESModule <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/mm-notes/interview/concept/module.html#amd" class="router-link-active router-link-exact-active sidebar-item" aria-label="AMD"><!--[--><!--]--> AMD <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/mm-notes/interview/concept/module.html#相关-api-及使用" class="router-link-active router-link-exact-active sidebar-item" aria-label="相关 api 及使用"><!--[--><!--]--> 相关 api 及使用 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/mm-notes/interview/concept/module.html#cmd" class="router-link-active router-link-exact-active sidebar-item" aria-label="CMD"><!--[--><!--]--> CMD <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/mm-notes/interview/concept/module.html#相关-api-及使用-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="相关 api 及使用"><!--[--><!--]--> 相关 api 及使用 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/mm-notes/interview/concept/module.html#umd" class="router-link-active router-link-exact-active sidebar-item" aria-label="UMD"><!--[--><!--]--> UMD <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/mm-notes/interview/concept/module.html#相关文章" class="router-link-active router-link-exact-active sidebar-item" aria-label="相关文章"><!--[--><!--]--> 相关文章 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/mm-notes/interview/concept/page-rendering.html" class="sidebar-item" aria-label="前端页面渲染方式"><!--[--><!--]--> 前端页面渲染方式 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">网络知识 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/mm-notes/interview/network/tcp.html" class="sidebar-item" aria-label="TCP"><!--[--><!--]--> TCP <!--[--><!--]--></a><!----></li><li><a href="/mm-notes/interview/network/http.html" class="sidebar-item" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/mm-notes/interview/browser/" class="sidebar-item sidebar-heading" aria-label="浏览器知识"><!--[--><!--]--> 浏览器知识 <!--[--><!--]--></a><!----></li><li><a href="/mm-notes/interview/coding/" class="sidebar-item sidebar-heading" aria-label="编程题"><!--[--><!--]--> 编程题 <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="模块化" tabindex="-1"><a class="header-anchor" href="#模块化" aria-hidden="true">#</a> 模块化</h1><div class="custom-container tip"><p class="custom-container-title">什么是模块化？</p><p>百度百科中的解释: 模块化是指解决一个复杂问题时自顶向下逐层把系统划分成若干模块的过程，有多种属性，分别反映其内部特性。</p><p>在编程中 模块化是将一个复杂的应用程序，按照一定的规则拆分成若干个文件(代码块)，并进行组合。文件内部的数据与实现都是私有的，只是对外暴露一些接口(方法、变量)与其他模块进行通信</p></div><p>模块化的好处</p><ul><li>避免命名空间的冲突</li><li>提高代码的复用性</li><li>提高维护性</li><li>更好的分离，实现按需加载</li></ul><p>目前前端主流的模块规范是</p><ul><li><code>CommonJS</code></li><li><code>ESModule</code></li><li><code>AMD</code></li><li><code>CMD</code></li><li><code>UMD</code></li></ul><h2 id="commonjs" tabindex="-1"><a class="header-anchor" href="#commonjs" aria-hidden="true">#</a> CommonJS</h2><p><a href="https://www.commonjs.org/" target="_blank" rel="noopener noreferrer"><code>CommonJS</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 规范是一种同步加载模块的方式，其主要用于服务端，即 <code>Node</code> 中的</p><ul><li><code>module.exports</code> 用于规定当前模块对外输出的接口</li><li><code>exports</code> 是 <code>module.exports</code> 属性的引用</li><li><code>require</code> 用于加载模块文件(读入并执行一个 <code>JavaScript</code> 文件并返回该模块的 <code>exports</code> 对象)</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;">/* util.js */</span></span>
<span class="line"><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">name</span><span style="color:#D4D4D4;"> = </span><span style="color:#CE9178;">&#39;maomao&#39;</span></span>
<span class="line"><span style="color:#4EC9B0;">exports</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">name</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">name</span></span>
<span class="line"><span style="color:#4EC9B0;">module</span><span style="color:#D4D4D4;">.</span><span style="color:#4EC9B0;">exports</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;"> = </span><span style="color:#569CD6;">function</span><span style="color:#D4D4D4;"> () {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">console</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">name</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">/* index.js */</span></span>
<span class="line"><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">util</span><span style="color:#D4D4D4;"> = </span><span style="color:#DCDCAA;">require</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;./util.js</span><span style="color:#F44747;">)</span></span>
<span class="line"><span style="color:#9CDCFE;">util</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">name</span></span>
<span class="line"><span style="color:#9CDCFE;">util</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">exports 和 module.exports</p><ul><li><code>exports</code> 是 <code>module</code> 对象的一个属性</li><li><code>exports</code> 是 <code>module.exports</code> 的一个引用，在默认情况下 <code>module.exports</code> 和 <code>exports</code> 指向<strong>同一个空对象</strong></li><li>模块导出的是 <code>module.exports</code></li></ul></div><div class="custom-container tip"><p class="custom-container-title">CommonJS 模块的特点</p><ul><li>所有代码都运行在模块作用域，不会污染全局作用域</li><li>模块可以多次加载，但只会在第一次加载时运行一次，然后运行结果就被缓存了，以后再加载时就直接读取缓存结果。要想让模块再次运行必须清除缓存</li><li>模块加载的顺序按其在代码中出现的顺序</li></ul></div><h2 id="esmodule" tabindex="-1"><a class="header-anchor" href="#esmodule" aria-hidden="true">#</a> ESModule</h2><p><code>ESModule</code> 是 <code>ES6</code> 在语言标准的层面上实现的模块功能，主要由 <code>export</code> 和 <code>import</code> 构成</p><ul><li><code>export</code> 命令用于规定模块的对外接口</li><li><code>import</code> 命令用于输入其他模块提供的功能</li></ul><p><a href="/interview/es6/#esmodule" target="_blank" rel="noopener noreferrer">ES6 常用知识 —— ESModule<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="custom-container tip"><p class="custom-container-title">ESModule 与 CommonJS 的差异</p><ul><li><code>CommonJS</code> 是动态语法可以写在判断里；<code>ESModule</code> 静态语法只能写在顶层</li><li><code>CommonJS</code> 模块输出的是一个值的拷贝；<code>ESModule</code> 输出的是值的引用 <ul><li><code>CommonJS</code> 模块一旦输出一个值模块内部的变化就影响不到这个值</li><li><code>ESModule</code> 模块在 <code>JavaScript</code> 引擎对脚本静态分析时，遇到模块加载命令 <code>import</code>，就会生成一个只读引用，等到脚本真正执行时再根据这个只读引用到被加载的那个模块里面去取值(<code>ESModule</code> 是动态引用，并且不会缓存值，模块里面的变量绑定其所在的模块)</li></ul></li><li><code>CommonJS</code> 模块是运行时加载；<code>ESModule</code> 是编译时输出接口。 <ul><li><code>CommonJS</code> 加载的是一个对象（即 <code>module.exports</code> 属性），该对象只有在脚本运行完才会生成</li><li><code>ESModule</code> 不是对象，它的对外接口只是一种静态定义，在代码静态解析阶段就会生成</li></ul></li><li><code>CommonJS</code> 模块的 <code>require()</code> 是同步加载模块；<code>ESModule</code> 的 <code>import</code> 命令是异步加载，有一个独立的模块依赖的解析阶段。</li><li>顶层的 <code>this</code> 指向不同 <ul><li><code>CommonJS</code> 模块中的顶层 <code>this</code> 指向模块本身</li><li><code>ESModule</code> 模块中的顶层 <code>this</code> 指向 <code>undefined</code></li></ul></li><li>模块的循环加载 <ul><li><code>CommonJS</code> 模块在加载模块后就会执行整个脚本并在内存生成一个对象，当出现某个模块被&quot;循环加载&quot;，就只输出已经执行的部分，还未执行的部分不会输出</li><li><code>ESModule</code> 根本不会关心是否发生了&quot;循环加载&quot;，只是生成一个指向被加载模块的引用，需要开发者自己保证，真正取值的时候能够取到值。</li></ul></li></ul></div><h2 id="amd" tabindex="-1"><a class="header-anchor" href="#amd" aria-hidden="true">#</a> AMD</h2><p><code>AMD</code> 规范全称是 Asynchronous Module Definition，即异步模块定义，主要用于浏览器。<br><code>AMD</code> 规范完整描述了模块的定义、依赖关系、引用关系以及加载机制。其代表库是 <a href="https://requirejs.org/" target="_blank" rel="noopener noreferrer">RequireJS<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="相关-api-及使用" tabindex="-1"><a class="header-anchor" href="#相关-api-及使用" aria-hidden="true">#</a> 相关 api 及使用</h3><ul><li><code>define()</code>: 定义模块</li><li><code>require()</code>: 调用模块</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;">/* 先通过 script 加载 RequireJS */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">/* 定义模块 utils.js */</span></span>
<span class="line"><span style="color:#DCDCAA;">define</span><span style="color:#D4D4D4;">([</span><span style="color:#CE9178;">&#39;utils&#39;</span><span style="color:#D4D4D4;">], </span><span style="color:#569CD6;">function</span><span style="color:#D4D4D4;"> () {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">function</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;">() {}</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">log:</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">log</span></span>
<span class="line"><span style="color:#D4D4D4;">  }</span></span>
<span class="line"><span style="color:#D4D4D4;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">/* 调用模块 */</span></span>
<span class="line"><span style="color:#DCDCAA;">require</span><span style="color:#D4D4D4;">([</span><span style="color:#CE9178;">&#39;./utils&#39;</span><span style="color:#D4D4D4;">], </span><span style="color:#569CD6;">function</span><span style="color:#D4D4D4;"> (</span><span style="color:#9CDCFE;">utils</span><span style="color:#D4D4D4;">) {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">utils</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;">()</span></span>
<span class="line"><span style="color:#D4D4D4;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cmd" tabindex="-1"><a class="header-anchor" href="#cmd" aria-hidden="true">#</a> CMD</h2><p><code>CMD</code> 规范全称是 Common Module Definition，即通用模块定义，其代表库是 <a href="https://seajs.github.io/seajs/docs/" target="_blank" rel="noopener noreferrer">SeaJS<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p><code>CMD</code> 规范是在 <code>AMD</code> 规范的基础上改进的一种规范，其解决了 <code>AMD</code> 规范对依赖模块的执行时机的问题</p></blockquote><h3 id="相关-api-及使用-1" tabindex="-1"><a class="header-anchor" href="#相关-api-及使用-1" aria-hidden="true">#</a> 相关 api 及使用</h3><ul><li><code>define()</code>: 定义模块</li><li><code>seajs.use()</code>: 调用模块</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;">/* 先通过 script 加载 SeaJS */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">/* 定义模块 utils.js */</span></span>
<span class="line"><span style="color:#DCDCAA;">define</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">function</span><span style="color:#D4D4D4;"> (</span><span style="color:#9CDCFE;">require</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">exports</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">module</span><span style="color:#D4D4D4;">) {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">function</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;">() {}</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">log:</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">log</span></span>
<span class="line"><span style="color:#D4D4D4;">  }</span></span>
<span class="line"><span style="color:#D4D4D4;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">/* 调用模块 */</span></span>
<span class="line"><span style="color:#9CDCFE;">seajs</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">use</span><span style="color:#D4D4D4;">([</span><span style="color:#CE9178;">&#39;./utils.js&#39;</span><span style="color:#D4D4D4;">], </span><span style="color:#569CD6;">function</span><span style="color:#D4D4D4;"> (</span><span style="color:#9CDCFE;">utils</span><span style="color:#D4D4D4;">) {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">utils</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;">()</span></span>
<span class="line"><span style="color:#D4D4D4;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">AMD 和 CMD 的区别</p><ul><li><code>AMD</code><ul><li>依赖前置: 在定义模块的时需要声明其依赖的模块</li><li>在加载模块完成后就会执行该模块，当所有模块都加载执行完后会进入 require 的回调函数执行主逻辑</li></ul></li><li><code>CMD</code><ul><li>就近依赖: 只有当用到某个具体模块时再去加载</li><li>加载完某个依赖模块后并不执行，当所有依赖模块加载完成后进入主逻辑，遇到 require 语句的时候才执行对应的模块</li></ul></li></ul><p>两者最大的区别是对依赖模块的执行时机处理不同</p></div><h2 id="umd" tabindex="-1"><a class="header-anchor" href="#umd" aria-hidden="true">#</a> UMD</h2><p><code>UMD</code> 只是一种通用的写法，是为了解决当时存在多种流行而不统一的规范而产生的一种通用规范<br><code>UMD</code> 实际是 <strong><code>AMD + CommonJS + 全局变量</code></strong> 这三种规范的结合</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">;(</span><span style="color:#569CD6;">function</span><span style="color:#D4D4D4;"> (</span><span style="color:#9CDCFE;">root</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">factory</span><span style="color:#D4D4D4;">) {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;">// CommonJs 模块规范 Node 环境</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#C586C0;">if</span><span style="color:#D4D4D4;"> (</span><span style="color:#569CD6;">typeof</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">module</span><span style="color:#D4D4D4;"> === </span><span style="color:#CE9178;">&#39;object&#39;</span><span style="color:#D4D4D4;">) {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#4EC9B0;">module</span><span style="color:#D4D4D4;">.</span><span style="color:#4EC9B0;">exports</span><span style="color:#D4D4D4;"> = </span><span style="color:#DCDCAA;">factory</span><span style="color:#D4D4D4;">(</span><span style="color:#DCDCAA;">require</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;jquery&#39;</span><span style="color:#D4D4D4;">))</span></span>
<span class="line"><span style="color:#D4D4D4;">  }</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;">// AMD 模块规范</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#C586C0;">else</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">if</span><span style="color:#D4D4D4;"> (</span><span style="color:#569CD6;">typeof</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">define</span><span style="color:#D4D4D4;"> === </span><span style="color:#CE9178;">&#39;function&#39;</span><span style="color:#D4D4D4;"> &amp;&amp; </span><span style="color:#9CDCFE;">define</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">amd</span><span style="color:#D4D4D4;">) {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#DCDCAA;">define</span><span style="color:#D4D4D4;">([</span><span style="color:#CE9178;">&#39;jquery&#39;</span><span style="color:#D4D4D4;">], </span><span style="color:#9CDCFE;">factory</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">  }</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;">// 挂载全局变量(global 即全局对象)</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#C586C0;">else</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">root</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">returnExports</span><span style="color:#D4D4D4;"> = </span><span style="color:#DCDCAA;">factory</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">root</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">jQuery</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#D4D4D4;">  }</span></span>
<span class="line"><span style="color:#D4D4D4;">})(</span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">, </span><span style="color:#569CD6;">function</span><span style="color:#D4D4D4;"> (</span><span style="color:#9CDCFE;">$</span><span style="color:#D4D4D4;">) {</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;">// 定义属性</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">name</span><span style="color:#D4D4D4;"> = </span><span style="color:#CE9178;">&#39;jquery&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;">// 定义方法</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">function</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;">() {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;">//    暴露公共方法</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">name</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">log</span></span>
<span class="line"><span style="color:#D4D4D4;">  }</span></span>
<span class="line"><span style="color:#D4D4D4;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="相关文章" tabindex="-1"><a class="header-anchor" href="#相关文章" aria-hidden="true">#</a> 相关文章</h2><p><a href="https://segmentfault.com/a/1190000017878394" target="_blank" rel="noopener noreferrer">深入 CommonJs 与 ES6 Module<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><!----></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/mm-notes/interview/concept/page-rendering.html" class="" aria-label="前端页面渲染方式"><!--[--><!--]--> 前端页面渲染方式 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script src="/mm-notes/assets/js/runtime~app.f414a8bc.js" defer></script><script src="/mm-notes/assets/js/277.9e06e526.js" defer></script><script src="/mm-notes/assets/js/app.358d118f.js" defer></script>
  </body>
</html>
